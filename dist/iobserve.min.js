!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).IObserve=n()}(this,(function(){"use strict";function t(){return t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},t.apply(this,arguments)}var n={elements:"[data-iobserve]",threshold:0,thresholds:null,onEnter:null,onExit:null},e=function(t,n){var e,o="IObserve::Initialized",i=new t(n);try{e=new CustomEvent(o,{detail:{instance:i}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent(o,!1,!1,{instance:i})}window.dispatchEvent(e)},o="undefined"!=typeof window,i=o&&"IntersectionObserver"in window,r=function(t,n,e,o){t&&(void 0===o?void 0===e?t(n):t(n,e):t(n,e,o))},s=function(t,n){i&&(n._observer=new IntersectionObserver((function(e){!function(t,n,e){t.forEach((function(t){return function(t){return t.isIntersecting||t.intersectionRatio>0}(t)?function(t,n,e,o){r(e.onEnter,t,n,o)}(t.target,t,n,e):function(t,n,e,o){r(e.onExit,t,n,o)}(t.target,t,n,e)}))}(e,t,n)}),function(t){return{root:document,rootMargin:t.thresholds||t.threshold+"px"}}(t)))},u=function(e,o){var i=function(e){return t({},n,e)}(e);this._settings=i,this.loadingCount=0,s(i,this),this.update(o)};return u.prototype={update:function(){var t,n,e=function(t){return n=function(t){return document.querySelectorAll(t.elements)}(t),Array.prototype.slice.call(n);var n}(this._settings);n=e,function(t){t.disconnect()}(t=this._observer),function(t,n){n.forEach((function(n){t.observe(n)}))}(t,n)},destroy:function(){this._observer&&this._observer.disconnect(),delete this._observer,delete this._settings}},o&&function(t,n){if(n)if(n.length)for(var o,i=0;o=n[i];i+=1)e(t,o);else e(t,n)}(u,window.iobserveOptions),u}));
